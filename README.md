# Cactus Library Plugin Documentation

> **CactusLib** - это плагин-библиотека для ExteraGram, предоставляющий мощный и удобный инструментарий для разработчиков других плагинов. Он упрощает создание команд, локализацию, управление настройками и многое другое.

## Ключевые возможности

  - **Простое создание команд**: Используйте декоратор `@command` для быстрой регистрации команд.
  - **Автоматическая локализация**: Встроенная поддержка многоязычных строк без лишнего кода.
  - **Гибкие ответы**: Легко отвечайте на команды, редактируйте исходные сообщения или отправляйте файлы.
  - **Обработка URI**: Создавайте интерактивные функции с помощью кастомных `tg://` ссылок.
  - **Утилиты**: Множество вспомогательных функций для логирования, работы с файлами, отображения уведомлений и т.д.

## Начало работы: Настройка

1.  Убедитесь, что плагин **CactusLib** установлен в вашем ExteraGram.

2.  В вашем проекте плагина импортируйте необходимые компоненты:

    ```python
    try:
        from cactuslib import CactusUtils, command, uri, HookResult, HookStrategy
    except (ImportError, ModuleNotFoundError):
        # Рекомендуется прекратить загрузку плагина, если библиотека отсутствует
        raise Exception("Необходим CactusLib. Пожалуйста, установите его.")
    ```

3.  Ваш основной класс плагина должен наследоваться от `CactusUtils.Plugin` (или его псевдонима `CactusUtils.CactusModule`):

    ```python
    class MyAwesomePlugin(CactusUtils.Plugin):
       ...
    ```

> [!IMPORTANT]
> В методах `on_plugin_load` и `on_plugin_unload` всегда вызывайте родительские методы в самом начале. Это критически важно для корректной инициализации и выгрузки вашего плагина в экосистеме CactusLib.
>
> ```python
> def on_plugin_load(self):
>     super().on_plugin_load()
>     # Ваш код...
>
> def on_plugin_unload(self):
>     super().on_plugin_unload()
>     # Ваш код...
> ```
>
> Также обратите внимание, что метод `on_send_message_hook` переопределять больше не нужно. Для обработки команд используйте специальный декоратор, о котором рассказано далее.

## Содержание документации (будет пополняться)

  * [Создание команд (`commands.md`)](commands.md)
  * [Ответы на команды (`responding.md`)](responding.md)
  * [Локализация (Строки) (`strings.md`)](strings.md)
  * [Форматирование текста (`formatting.md`)](formatting.md)
  * [Обработка URI (`uri_handling.md`)](uri_handling.md)
  * [Вспомогательные утилиты (`utils.md`)](utils.md)
